<% layout('./layouts/form-boilerplate') %>

<% if (formData.contact.job === 'Zamestnanec' || formData.contact.job === 'Štátny zamestnanec' || formData.contact.job === 'Zamestnanec v zahraničí'){ %>
    <%- include('../partials/form-partials/step2') %>
<% } %>
<% if (formData.contact.job === 'Živnostník / S.R.O.' || formData.contact.job === 'Živnostník bez IČO' || formData.contact.job === 'Opatrovateľ/ka - živnostník - v členskej krajine EÚ'){ %>
    <%- include('../partials/form-partials/step2') %>
<% } %>
<% if (formData.contact.job === 'Opatrovateľka' || formData.contact.job === 'Starobný dôchodca' || formData.contact.job === 'Výsluhový dôchodca' || formData.contact.job === 'Invalidný dôchodca') {%>
    <%- include('../partials/form-partials/step2-senior') %>
<%}%>


<script>
    const otherIncomeContainer = document.querySelector('#other-income-container')
    let radio = document.querySelector("#otherIncome");
    let sideIncome = document.querySelector('#sideIncome');
    let radioIcon = radio.querySelector('img')

    let checked;

    if (radio){
        radio.addEventListener('mouseenter', () => {
            otherIncomeContainer.classList.remove('border-secondary')
            otherIncomeContainer.classList.add('border-primary')
        })

        radio.addEventListener('mouseleave', () => {
            otherIncomeContainer.classList.add('border-secondary')
            otherIncomeContainer.classList.remove('border-primary')
        })

        radio.addEventListener('click', () => {
            sideIncome.classList.toggle('hidden');
            radioIcon.classList.toggle('hidden')
            if (checked === radio) {
                radio.checked = false;
                checked = null;
            } else {
                checked = radio;
            }
        })
    }
</script>

