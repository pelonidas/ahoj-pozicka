<div class="bg-secondary pt-16 relative">
    <section class="w-4/5 mx-auto flex h-[40rem] bg-y pb-16" id="home-top">
        <div class="text-white w-3/5 h-full bg-y-sm mt-16">
            <h1 class="text-[65px] mb-6 leading-none font-bold">Uzatvorte <span class="text-primary">bestpôžičku rýchlo a jednoducho online </span>a
                splňte si vaše želanie!</h1>
            <h2 class="text-3xl mb-6">Jednoducha cesta k peniazom</h2>
            <p class="w-2/3 mb-4">V bestpôžičke môžete požiadať o pôžičky v rozmedzí od 400 do 20 000 EUR.</p>
            <a href="/form/step-1">Vypocitat</a>
        </div>
        <div class="h-full bg-y-lg w-2/5 ml-auto text-secondary">
            <div class="home-calc mt-16 bg-white p-12 w-[35rem] relative right-24 z-40 rounded-lg drop-shadow-xl">
                <div class="mb-8">
                    <h3 class="mb-2 text-2xl">Koľko si chcete požičať?</h3>
                    <input type="text" class="px-3 py-2 border-2 border-secondary rounded-lg w-full mb-2"
                           placeholder="15 000€" id="money_input">
                    <input type="range" class="w-full styled-slider slider-progress" min="5000" max="50000" value="10000" step="5000" id="money_range">
                </div>
                <div class="mb-8">
                    <h3 class="mb-2 text-2xl">Na koľko rokov?</h3>
                    <input type="text" class="px-3 py-2 border-2 border-secondary rounded-lg w-full mb-2"
                           placeholder="5 rokov" id="year_input">
                    <input type="range" class="w-full styled-slider slider-progress" min="1" max="20" value="5" id="year_range" step="1">
                </div>
                <hr class="mb-8">
                <div class="flex justify-between items-center mb-5">
                    <h4 class="w-1/2 text-xl">Odhadovaná mesačná suma</h4>
                    <h2 class="text-3xl" id="mes_sum">389€</h2>
                </div>
                <div class="flex justify-between">
                    <div class="flex flex-col">
                        <h6 class="text-sm">Úroková sadzba</h6>
                        <h5 id="urok_sadzba">20,27%</h5>
                    </div>
                    <div class="flex flex-col">
                        <h6 class="text-sm">Celkové naklady</h6>
                        <h5 id="celkove_naklady">6 778€</h5>
                    </div>
                    <div class="flex flex-col">
                        <h6 class="text-sm">Celková suma</h6>
                        <h5 id="celkova_suma">21 778€</h5>
                    </div>
                </div>
                <hr class="mt-8">
                <div class="flex mt-2 text-white">
                    <a href="/form/step-1" class="w-full bg-dRed text-center py-6 rounded-md">Požiadajte o pôžičku</a>
                </div>
                <p class="text-xs mt-3 text-black/25">
                    Reprezentatívny príklad:
                    Celková výška a mena úveru (S): 2 500 €, fixná efektívna úroková sadzba: 16,55 % p. a., výška
                    mesačnej splátky: 45,27 €, počet splátok (n): 96 mesiacov. Celková čiastka: 4 345,92 €, RPMN (X):
                    16,56 %
                </p>
            </div>
        </div>
    </section>
</div>
<div class="relative mb-28 bg-top-g pt-10">
    <img src="images/gray-top-home.svg" alt="" class="w-full">
    <section id="reviews-wrapper" class="absolute -top-24">
        <div id="ReviewsWrapper" class="ReviewsWrapper">
            <div id="ReviewsWrappered"></div>
            <div class="review">
                <div class="pb-8">
                    <div class="w-full drop-shadow-md bg-white mr-5 rounded-lg card-bg h-min">
                        <div class="flex py-4 pl-5 items-center">
                            <img src="/images/prof-pic-home.svg" alt="" class="w-12">
                            <div class="ml-5">
                                <img src="/images/star-rating.svg" alt="" class="w-[8rem]">
                                <h5 class="text-sm">Maria Illescas</h5>
                            </div>
                        </div>
                        <div class="pl-5 pb-5">
                            <hr>
                            <div class="w-4/5">
                                <p class="text-xs mt-2">Lorem ipsum dolor sit amet, consectetur adipiscing elit. Maecenas
                                    varius
                                    tortor
                                    nibh, sit amet tempor nibh finibus et. Aenean eu enim justo. Vestibulum aliquam
                                    hendrerit
                                    molestie.
                                </p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="review">
                <div class="pb-8">
                    <div class="w-full drop-shadow-md bg-white mr-5 rounded-lg card-bg h-min">
                        <div class="flex py-4 pl-5 items-center">
                            <img src="/images/prof-pic-home.svg" alt="" class="w-12">
                            <div class="ml-5">
                                <img src="/images/star-rating.svg" alt="" class="w-[8rem]">
                                <h5 class="text-sm">Maria Illescas</h5>
                            </div>
                        </div>
                        <div class="pl-5 pb-5">
                            <hr>
                            <div class="w-4/5">
                                <p class="text-xs mt-2">Lorem ipsum dolor sit amet, consectetur adipiscing elit. Maecenas
                                    varius
                                    tortor
                                    nibh, sit amet tempor nibh finibus et. Aenean eu enim justo. Vestibulum aliquam
                                    hendrerit
                                    molestie.
                                </p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="review">
                <div class="pb-8">
                    <div class="w-full drop-shadow-md bg-white mr-5 rounded-lg card-bg h-min">
                        <div class="flex py-4 pl-5 items-center">
                            <img src="/images/prof-pic-home.svg" alt="" class="w-12">
                            <div class="ml-5">
                                <img src="/images/star-rating.svg" alt="" class="w-[8rem]">
                                <h5 class="text-sm">Maria Illescas</h5>
                            </div>
                        </div>
                        <div class="pl-5 pb-5">
                            <hr>
                            <div class="w-4/5">
                                <p class="text-xs mt-2">Lorem ipsum dolor sit amet, consectetur adipiscing elit. Maecenas
                                    varius
                                    tortor
                                    nibh, sit amet tempor nibh finibus et. Aenean eu enim justo. Vestibulum aliquam
                                    hendrerit
                                    molestie.
                                </p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="review">
                <div class="pb-8">
                    <div class="w-full drop-shadow-md bg-white mr-5 rounded-lg card-bg h-min">
                        <div class="flex py-4 pl-5 items-center">
                            <img src="/images/prof-pic-home.svg" alt="" class="w-12">
                            <div class="ml-5">
                                <img src="/images/star-rating.svg" alt="" class="w-[8rem]">
                                <h5 class="text-sm">Maria Illescas</h5>
                            </div>
                        </div>
                        <div class="pl-5 pb-5">
                            <hr>
                            <div class="w-4/5">
                                <p class="text-xs mt-2">Lorem ipsum dolor sit amet, consectetur adipiscing elit. Maecenas
                                    varius
                                    tortor
                                    nibh, sit amet tempor nibh finibus et. Aenean eu enim justo. Vestibulum aliquam
                                    hendrerit
                                    molestie.
                                </p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="review">
                <div class="pb-8">
                    <div class="w-full drop-shadow-md bg-white mr-5 rounded-lg card-bg h-min">
                        <div class="flex py-4 pl-5 items-center">
                            <img src="/images/prof-pic-home.svg" alt="" class="w-12">
                            <div class="ml-5">
                                <img src="/images/star-rating.svg" alt="" class="w-[8rem]">
                                <h5 class="text-sm">Maria Illescas</h5>
                            </div>
                        </div>
                        <div class="pl-5 pb-5">
                            <hr>
                            <div class="w-4/5">
                                <p class="text-xs mt-2">Lorem ipsum dolor sit amet, consectetur adipiscing elit. Maecenas
                                    varius
                                    tortor
                                    nibh, sit amet tempor nibh finibus et. Aenean eu enim justo. Vestibulum aliquam
                                    hendrerit
                                    molestie.
                                </p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="review">
                <div class="pb-8">
                    <div class="w-full drop-shadow-md bg-white mr-5 rounded-lg card-bg h-min">
                        <div class="flex py-4 pl-5 items-center">
                            <img src="/images/prof-pic-home.svg" alt="" class="w-12">
                            <div class="ml-5">
                                <img src="/images/star-rating.svg" alt="" class="w-[8rem]">
                                <h5 class="text-sm">Maria Illescas</h5>
                            </div>
                        </div>
                        <div class="pl-5 pb-5">
                            <hr>
                            <div class="w-4/5">
                                <p class="text-xs mt-2">Lorem ipsum dolor sit amet, consectetur adipiscing elit. Maecenas
                                    varius
                                    tortor
                                    nibh, sit amet tempor nibh finibus et. Aenean eu enim justo. Vestibulum aliquam
                                    hendrerit
                                    molestie.
                                </p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="review">
                <div class="pb-8">
                    <div class="w-full drop-shadow-md bg-white mr-5 rounded-lg card-bg h-min">
                        <div class="flex py-4 pl-5 items-center">
                            <img src="/images/prof-pic-home.svg" alt="" class="w-12">
                            <div class="ml-5">
                                <img src="/images/star-rating.svg" alt="" class="w-[8rem]">
                                <h5 class="text-sm">Maria Illescas</h5>
                            </div>
                        </div>
                        <div class="pl-5 pb-5">
                            <hr>
                            <div class="w-4/5">
                                <p class="text-xs mt-2">Lorem ipsum dolor sit amet, consectetur adipiscing elit. Maecenas
                                    varius
                                    tortor
                                    nibh, sit amet tempor nibh finibus et. Aenean eu enim justo. Vestibulum aliquam
                                    hendrerit
                                    molestie.
                                </p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>
</div>
<script src="/javascripts/calculator.js"></script>
<script>
    for (let e of document.querySelectorAll('input[type="range"].slider-progress')) {
        e.style.setProperty('--value', e.value);
        e.style.setProperty('--min', e.min == '' ? '0' : e.min);
        e.style.setProperty('--max', e.max == '' ? '100' : e.max);
        e.addEventListener('input', () => e.style.setProperty('--value', e.value));
    }

    if (document.getElementById('ReviewsWrapper')) {
        const flavoursContainer = document.getElementById('ReviewsWrapper');
        const flavoursScrollWidth = flavoursContainer.scrollWidth;

        window.addEventListener('load', () => {

            function reviewTimer() {
                // clearInterval(interval)
                interval = self.setInterval(() => {
                    const first = document.querySelector('#ReviewsWrapper div');

                    if (!isElementInViewport(first)) {
                        flavoursContainer.appendChild(first);
                        flavoursContainer.scrollTo(flavoursContainer.scrollLeft - first.offsetWidth, 0);
                    }
                    if (flavoursContainer.scrollLeft !== flavoursScrollWidth) {
                        flavoursContainer.scrollTo(flavoursContainer.scrollLeft + 1, 0);
                    }
                }, 10);
            }

            flavoursContainer.addEventListener("mouseleave", function (event) {
                function reviewTimer() {
                    clearInterval(interval)
                    interval = self.setInterval(() => {
                        const first = document.querySelector('#ReviewsWrapper div');

                        if (!isElementInViewport(first)) {
                            flavoursContainer.appendChild(first);
                            flavoursContainer.scrollTo(flavoursContainer.scrollLeft - first.offsetWidth, 0);
                        }
                        if (flavoursContainer.scrollLeft !== flavoursScrollWidth) {
                            flavoursContainer.scrollTo(flavoursContainer.scrollLeft + 1, 0);
                        }
                    }, 10);
                }

                reviewTimer()
            }, false);
            flavoursContainer.addEventListener("mouseover", function (event) {
                function reviewTimer() {
                    clearInterval(interval)
                    interval = self.setInterval(() => {
                        const first = document.querySelector('#ReviewsWrapper div');

                        if (!isElementInViewport(first)) {
                            flavoursContainer.appendChild(first);
                            flavoursContainer.scrollTo(flavoursContainer.scrollLeft - first.offsetWidth, 0);
                        }
                        if (flavoursContainer.scrollLeft !== flavoursScrollWidth) {
                            flavoursContainer.scrollTo(flavoursContainer.scrollLeft + 1, 0);
                        }
                    }, 10000000);
                }

                reviewTimer()
            }, false);

            reviewTimer()

        });

        function isElementInViewport(el) {
            var rect = el.getBoundingClientRect();
            return rect.right > 0;
        }
    }
</script>